webpackJsonp([0],{0:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function u(t){return Object.keys(t).filter(function(e){return null==t[e]})}function a(t){return Object.keys(t).filter(function(e){return null!==t[e]})}function l(t){return a(t).map(function(e){return t[e].values.reduce(function(t,e){return t+e})-t[e].values[0]}).reduce(function(t,e){return t+e},0)}function i(t){return t?t.values[t.values.length-1]:null}function c(t){var e=[M,N,j,w].reduce(function(t,e){return f(t,e)},t);return u(e).length>0}function o(t,e){return Object.keys(t).reduce(function(n,r){return n&&t[r]==e[r]},!0)}function s(t,e){var n=e.map(function(e){return t[e]}).filter(function(t){return null!==t}),r=[];if(n)for(var u=0;u<n.length;u++){var a=n[u];if(a){var l=i(a),c=n[u+1];c&&l==i(c)?(u++,r.push({id:c.id,values:a.values.concat([2*l])})):r.push(a)}}var o={};return e.forEach(function(t,e){o[t]=r[e]||null}),o}function d(t,e,n){return t.map(function(t){return e.map(function(e){var r=[t,e];return n?r.reverse().join(""):r.join("")})})}function f(t,e){var n=t;return e.forEach(function(e){var r=s(t,e);Object.keys(r).forEach(function(t){n=v(n,t,r[t])})}),n}function h(t){return{id:E++,values:[t]}}function v(t,e,n){var r={};return Object.keys(t).forEach(function(u,a){r[u]=u==e?n:t[u]}),r}var m=n(1),b=r(m),p=n(29),y=r(p);n(161);var k={a1:null,a2:null,a3:null,a4:null,b1:null,b2:null,b3:null,b4:null,c1:null,c2:null,c3:null,c4:null,d1:null,d2:null,d3:null,d4:null},E=0,j=d(["a","b","c","d"],["1","2","3","4"],!1),w=d(["a","b","c","d"],["4","3","2","1"],!1),M=d(["1","2","3","4"],["a","b","c","d"],!0),N=d(["1","2","3","4"],["d","c","b","a"],!0),O=b["default"].createClass({displayName:"GameBoard",getInitialState:function(){return this.addTile(this.addTile(k))},keyHandler:function(t){var e={37:j,38:M,39:w,40:N};e[t.keyCode]&&this.setBoard(f(this.state,e[t.keyCode]))&&Math.floor(30*Math.random(),0)>0&&setTimeout(function(){this.setBoard(this.addTile(this.state))}.bind(this),100)},setBoard:function(t){return o(this.state,t)?!1:(this.setState(t),!0)},addTile:function(t){var e=u(t).sort(function(){return.5-Math.random()}).pop();if(e){var n=Math.floor(2*Math.random(),0)?2:4;return v(t,e,h(n))}return t},newGame:function(){this.setState(this.getInitialState())},componentDidMount:function(){window.addEventListener("keydown",this.keyHandler,!1)},render:function(){var t=c(this.state)?"":" - Game Over!";return b["default"].createElement("div",{className:"app"},b["default"].createElement("span",{className:"score"},"Score: ",l(this.state),t),b["default"].createElement(T,{board:this.state}),b["default"].createElement("button",{onClick:this.newGame},"New Game"))}}),T=b["default"].createClass({displayName:"Tiles",render:function(){var t=this.props.board,e=a(t).sort(function(e,n){return t[e].id-t[n].id});return b["default"].createElement("div",{className:"board"},e.map(function(e){var n=t[e],r=i(n);return b["default"].createElement("span",{key:n.id,className:e+" value"+r},r)}))}});y["default"].render(b["default"].createElement(O,null),document.body)},161:function(t,e){}});