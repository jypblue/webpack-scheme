webpackJsonp([1],{0:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(1),c=o(l),f=n(29);n(163),n(164);var d=n(165),h=o(d),p=n(166),y=o(p),b=n(167),v=o(b),O=n(169),g=o(O);n(170);var w=function(e){function t(e){r(this,t);var n=a(this,Object.getPrototypeOf(t).call(this,e));return n.db=new h["default"]("React-Todos"),n.state={todos:n.db.get("todos")||[],isAllChecked:!1},n}return i(t,e),u(t,[{key:"allCheckd",value:function(){var e=!1;this.state.todos.every(function(e){return e.isDone})&&(e=!0),this.setState({todos:this.state.todos,isAllChecked:e})}},{key:"addTodo",value:function(e){this.state.todos.push(e),this.allCheckd(),this.db.set("todos",this.state.todos)}},{key:"changeTodoState",value:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?!1:arguments[2];n?this.setState({todos:this.state.todos.map(function(e){return e.isDone=t,e}),isAllChecked:t}):(this.state.todos[e].isDone=t,this.allCheckd()),this.db.set("todos",this.state.todos)}},{key:"clearDone",value:function(){var e=this.state.todos.filter(function(e){return!e.isDone});this.setState({todos:e,isAllChecked:!1}),this.db.set("todos",e)}},{key:"deleteTodo",value:function(e){this.state.todos.splice(e,1),this.setState({todos:this.state.todos}),this.db.set("todos",this.state.todos)}},{key:"render",value:function(){var e={todoCount:this.state.todos.length||0,todoDoneCount:(this.state.todos&&this.state.todos.filter(function(e){return e.isDone})).length||0};return c["default"].createElement("div",{className:"panel"},c["default"].createElement(y["default"],{addTodo:this.addTodo.bind(this)}),c["default"].createElement(v["default"],{deleteTodo:this.deleteTodo.bind(this),todos:this.state.todos,changeTodoState:this.changeTodoState.bind(this)}),c["default"].createElement(g["default"],s({isAllChecked:this.state.isAllChecked,clearDone:this.clearDone.bind(this)},e,{changeTodoState:this.changeTodoState.bind(this)})))}}]),t}(l.Component);(0,f.render)(c["default"].createElement(w,null),document.querySelector(".container"))},163:function(e,t){},164:163,165:function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function(){function e(){var t=void 0===arguments[0]?"localDb":arguments[0];if(n(this,e),!window.localStorage)throw new Error("Not supports localStorage");this.localDb=t,localStorage[t]?this.db=JSON.parse(localStorage[t]):this.db=[]}return o(e,[{key:"getDb",value:function(){return this.db}},{key:"set",value:function(e,t){if(e)return this.db[e]=t,this._saveToLocalStorage();throw new Error("set参数key不能为空")}},{key:"get",value:function(e){if(e){var t=this.db[e];return"undefined"==typeof t&&console.warn(e+"的值不存在"),t}throw new Error("get参数key不能为空")}},{key:"clean",value:function(){this.db={},this._saveToLocalStorage()}},{key:"_saveToLocalStorage",value:function(){localStorage[this.localDb]=JSON.stringify(this.getDb())}}]),e}();e.exports=r},166:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(1),l=o(u),c=function(e){function t(){return r(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),s(t,[{key:"handleKeyUp",value:function(e){if(13===e.keyCode){var t=e.target.value;if(!t)return!1;var n={text:t,isDone:!1};e.target.value="",this.props.addTodo(n)}}},{key:"render",value:function(){return l["default"].createElement("div",{className:"panel-header"},l["default"].createElement("input",{type:"text",onKeyUp:this.handleKeyUp.bind(this),placeholder:"what's your task?"}))}}]),t}(u.Component);t["default"]=c},167:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(1),c=o(l),f=(n(29),n(168)),d=o(f),h=function(e){function t(){return r(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),u(t,[{key:"render",value:function(){var e=this;return c["default"].createElement("ul",{className:"todo-list"},this.props.todos.map(function(t,n){return c["default"].createElement(d["default"],s({key:n},t,{index:n},e.props))}))}}]),t}(l.Component);t["default"]=h},168:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(1),l=o(u),c=function(e){function t(){return r(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),s(t,[{key:"handleChange",value:function(){var e=!this.props.isDone;this.props.changeTodoState(this.props.index,e)}},{key:"handleMouseOver",value:function(){this.refs.deleteBtn.style.display="inline"}},{key:"handleMouseOut",value:function(){this.refs.deleteBtn.style.display="none"}},{key:"handleDelete",value:function(){this.props.deleteTodo(this.props.index)}},{key:"render",value:function(){var e=this.props.isDone?{textDecoration:"line-through"}:{textDecoration:"none"};return l["default"].createElement("li",{onMouseOver:this.handleMouseOver.bind(this),onMouseOut:this.handleMouseOut.bind(this)},l["default"].createElement("input",{type:"checkbox",checked:this.props.isDone,onChange:this.handleChange.bind(this)}),l["default"].createElement("span",{style:e},this.props.text),l["default"].createElement("button",{type:"button",ref:"deleteBtn",onClick:this.handleDelete.bind(this),className:"fr",style:{display:"none"}},"删除"))}}]),t}(u.Component);t["default"]=c},169:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(1),l=o(u),c=function(e){function t(){return r(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),s(t,[{key:"handleAllState",value:function(e){this.props.changeTodoState(null,e.target.checked,!0)}},{key:"handleClick",value:function(){this.props.clearDone()}},{key:"render",value:function(){return l["default"].createElement("div",{className:"clearfix todo-footer"},l["default"].createElement("input",{type:"checkbox",className:"fl",checked:this.props.isAllChecked,onChange:this.handleAllState.bind(this)}),l["default"].createElement("span",{className:"fl"},this.props.todoDoneCount,"已完成/",this.props.todoCount,"总数"),l["default"].createElement("button",{className:"fr",onClick:this.handleClick.bind(this)},"清除已完成"))}}]),t}(u.Component);t["default"]=c},170:163});