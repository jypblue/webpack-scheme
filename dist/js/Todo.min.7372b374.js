webpackJsonp([1],{0:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=t(1),l=n(u),c=t(31);t(167),t(168);var f=t(169),d=n(f),h=t(170),p=n(h),y=t(171),b=n(y),v=t(173),O=n(v);t(174);var g=function(e){function t(e){o(this,t);var n=r(this,Object.getPrototypeOf(t).call(this,e));return n.db=new d["default"]("React-Todos"),n.state={todos:n.db.get("todos")||[],isAllChecked:!1},n}return a(t,e),s(t,[{key:"allCheckd",value:function(){var e=!1;this.state.todos.every(function(e){return e.isDone})&&(e=!0),this.setState({todos:this.state.todos,isAllChecked:e})}},{key:"addTodo",value:function(e){this.state.todos.push(e),this.allCheckd(),this.db.set("todos",this.state.todos)}},{key:"changeTodoState",value:function(e,t){var n=!(arguments.length<=2||void 0===arguments[2])&&arguments[2];n?this.setState({todos:this.state.todos.map(function(e){return e.isDone=t,e}),isAllChecked:t}):(this.state.todos[e].isDone=t,this.allCheckd()),this.db.set("todos",this.state.todos)}},{key:"clearDone",value:function(){var e=this.state.todos.filter(function(e){return!e.isDone});this.setState({todos:e,isAllChecked:!1}),this.db.set("todos",e)}},{key:"deleteTodo",value:function(e){this.state.todos.splice(e,1),this.setState({todos:this.state.todos}),this.db.set("todos",this.state.todos)}},{key:"render",value:function(){var e={todoCount:this.state.todos.length||0,todoDoneCount:(this.state.todos&&this.state.todos.filter(function(e){return e.isDone})).length||0};return l["default"].createElement("div",{className:"panel"},l["default"].createElement(p["default"],{addTodo:this.addTodo.bind(this)}),l["default"].createElement(b["default"],{deleteTodo:this.deleteTodo.bind(this),todos:this.state.todos,changeTodoState:this.changeTodoState.bind(this)}),l["default"].createElement(O["default"],i({isAllChecked:this.state.isAllChecked,clearDone:this.clearDone.bind(this)},e,{changeTodoState:this.changeTodoState.bind(this)})))}}]),t}(u.Component);(0,c.render)(l["default"].createElement(g,null),document.querySelector(".container"))},167:function(e,exports){},168:167,169:function(e,exports){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),o=function(){function e(){var n=void 0===arguments[0]?"localDb":arguments[0];if(t(this,e),!window.localStorage)throw new Error("Not supports localStorage");this.localDb=n,localStorage[n]?this.db=JSON.parse(localStorage[n]):this.db=[]}return n(e,[{key:"getDb",value:function(){return this.db}},{key:"set",value:function(e,t){if(e)return this.db[e]=t,this._saveToLocalStorage();throw new Error("set参数key不能为空")}},{key:"get",value:function(e){if(e){var t=this.db[e];return"undefined"==typeof t&&console.warn(e+"的值不存在"),t}throw new Error("get参数key不能为空")}},{key:"clean",value:function(){this.db={},this._saveToLocalStorage()}},{key:"_saveToLocalStorage",value:function(){localStorage[this.localDb]=JSON.stringify(this.getDb())}}]),e}();e.exports=o},170:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=t(1),u=n(s),l=function(e){function t(){return o(this,t),r(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),i(t,[{key:"handleKeyUp",value:function(e){if(13===e.keyCode){var t=e.target.value;if(!t)return!1;var n={text:t,isDone:!1};e.target.value="",this.props.addTodo(n)}}},{key:"render",value:function(){return u["default"].createElement("div",{className:"panel-header"},u["default"].createElement("input",{type:"text",onKeyUp:this.handleKeyUp.bind(this),placeholder:"what's your task?"}))}}]),t}(s.Component);exports["default"]=l},171:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=t(1),l=n(u),c=(t(31),t(172)),f=n(c),d=function(e){function t(){return o(this,t),r(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){var e=this;return l["default"].createElement("ul",{className:"todo-list"},this.props.todos.map(function(t,n){return l["default"].createElement(f["default"],i({key:n},t,{index:n},e.props))}))}}]),t}(u.Component);exports["default"]=d},172:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=t(1),u=n(s),l=function(e){function t(){return o(this,t),r(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),i(t,[{key:"handleChange",value:function(){var e=!this.props.isDone;this.props.changeTodoState(this.props.index,e)}},{key:"handleMouseOver",value:function(){this.refs.deleteBtn.style.display="inline"}},{key:"handleMouseOut",value:function(){this.refs.deleteBtn.style.display="none"}},{key:"handleDelete",value:function(){this.props.deleteTodo(this.props.index)}},{key:"render",value:function(){var e=this.props.isDone?{textDecoration:"line-through"}:{textDecoration:"none"};return u["default"].createElement("li",{onMouseOver:this.handleMouseOver.bind(this),onMouseOut:this.handleMouseOut.bind(this)},u["default"].createElement("input",{type:"checkbox",checked:this.props.isDone,onChange:this.handleChange.bind(this)}),u["default"].createElement("span",{style:e},this.props.text),u["default"].createElement("button",{type:"button",ref:"deleteBtn",onClick:this.handleDelete.bind(this),className:"fr",style:{display:"none"}},"删除"))}}]),t}(s.Component);exports["default"]=l},173:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=t(1),u=n(s),l=function(e){function t(){return o(this,t),r(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),i(t,[{key:"handleAllState",value:function(e){this.props.changeTodoState(null,e.target.checked,!0)}},{key:"handleClick",value:function(){this.props.clearDone()}},{key:"render",value:function(){return u["default"].createElement("div",{className:"clearfix todo-footer"},u["default"].createElement("input",{type:"checkbox",className:"fl",checked:this.props.isAllChecked,onChange:this.handleAllState.bind(this)}),u["default"].createElement("span",{className:"fl"},this.props.todoDoneCount,"已完成/",this.props.todoCount,"总数"),u["default"].createElement("button",{className:"fr",onClick:this.handleClick.bind(this)},"清除已完成"))}}]),t}(s.Component);exports["default"]=l},174:167});