webpackJsonp([0],{0:function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t){return Object.keys(t).filter(function(e){return null==t[e]})}function u(t){return Object.keys(t).filter(function(e){return null!==t[e]})}function a(t){return u(t).map(function(e){return t[e].values.reduce(function(t,e){return t+e})-t[e].values[0]}).reduce(function(t,e){return t+e},0)}function l(t){return t?t.values[t.values.length-1]:null}function i(t){var e=[w,M,E,j].reduce(function(t,e){return d(t,e)},t);return r(e).length>0}function c(t,e){return Object.keys(t).reduce(function(n,r){return n&&t[r]==e[r]},!0)}function o(t,e){var n=e.map(function(e){return t[e]}).filter(function(t){return null!==t}),r=[];if(n)for(var u=0;u<n.length;u++){var a=n[u];if(a){var i=l(a),c=n[u+1];c&&i==l(c)?(u++,r.push({id:c.id,values:a.values.concat([2*i])})):r.push(a)}}var o={};return e.forEach(function(t,e){o[t]=r[e]||null}),o}function s(t,e,n){return t.map(function(t){return e.map(function(e){var r=[t,e];return n?r.reverse().join(""):r.join("")})})}function d(t,e){var n=t;return e.forEach(function(e){var r=o(t,e);Object.keys(r).forEach(function(t){n=h(n,t,r[t])})}),n}function f(t){return{id:k++,values:[t]}}function h(t,e,n){var r={};return Object.keys(t).forEach(function(u,a){r[u]=u==e?n:t[u]}),r}var v=e(1),m=n(v),b=e(31),p=n(b);e(165);var y={a1:null,a2:null,a3:null,a4:null,b1:null,b2:null,b3:null,b4:null,c1:null,c2:null,c3:null,c4:null,d1:null,d2:null,d3:null,d4:null},k=0,E=s(["a","b","c","d"],["1","2","3","4"],!1),j=s(["a","b","c","d"],["4","3","2","1"],!1),w=s(["1","2","3","4"],["a","b","c","d"],!0),M=s(["1","2","3","4"],["d","c","b","a"],!0),N=m["default"].createClass({displayName:"GameBoard",getInitialState:function(){return this.addTile(this.addTile(y))},keyHandler:function(t){var e={37:E,38:w,39:j,40:M};e[t.keyCode]&&this.setBoard(d(this.state,e[t.keyCode]))&&Math.floor(30*Math.random(),0)>0&&setTimeout(function(){this.setBoard(this.addTile(this.state))}.bind(this),100)},setBoard:function(t){return!c(this.state,t)&&(this.setState(t),!0)},addTile:function(t){var e=r(t).sort(function(){return.5-Math.random()}).pop();if(e){var n=Math.floor(2*Math.random(),0)?2:4;return h(t,e,f(n))}return t},newGame:function(){this.setState(this.getInitialState())},componentDidMount:function(){window.addEventListener("keydown",this.keyHandler,!1)},render:function(){var t=i(this.state)?"":" - Game Over!";return m["default"].createElement("div",{className:"app"},m["default"].createElement("span",{className:"score"},"Score: ",a(this.state),t),m["default"].createElement(O,{board:this.state}),m["default"].createElement("button",{onClick:this.newGame},"New Game"))}}),O=m["default"].createClass({displayName:"Tiles",render:function(){var t=this.props.board,e=u(t).sort(function(e,n){return t[e].id-t[n].id});return m["default"].createElement("div",{className:"board"},e.map(function(e){var n=t[e],r=l(n);return m["default"].createElement("span",{key:n.id,className:e+" value"+r},r)}))}});p["default"].render(m["default"].createElement(N,null),document.body)},165:function(t,exports){}});